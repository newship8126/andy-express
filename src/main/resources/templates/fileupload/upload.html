<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<script th:src="@{/js/jquery/jquery.min.js}" type="text/javascript"></script>
<form class="form-horizontal" id="queryForm" action="#" th:action="@{/fileUpload/batchImport}" enctype="multipart/form-data" method="post">
  <table width="99%">
    <tr>
      <td>
        <input class="form-input" type="file" name="filename" />
        <button type="button" class="btn" onclick="importData()">开始导入</button>
        <button type="button" class="btn" onclick="subscribe()">物流跟踪信息订阅</button>
      </td>
    </tr>
    <tr>
      <td>
        <textarea id="remark" style="width: 99%" rows="10" th:utext="${session.msg}"></textarea>
        <!--<div th:text="${session.msg}"></div>-->
      </td>
    </tr>
  </table>
</form>
<script language="JavaScript">
  var rootUrl = '[[${#httpServletRequest.getContextPath()}]]';

  function importData() {
    $('#queryForm').attr('action', rootUrl + '/fileUpload/batchImport');
    console.log($('#queryForm').attr('action'));
    $('#queryForm').submit();
  }

  function subscribe() {
    $('#queryForm').attr('action', rootUrl + '/fileUpload/subscribe-express');
    $('#queryForm').submit();
  }
</script>